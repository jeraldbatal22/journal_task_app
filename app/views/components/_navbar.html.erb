<nav class="position-sticky top-0" style="position:sticky; top:0; ">
  <div class="max-w-6xl mx-auto px- f">
    <div class="flex justify-between">
      <div class="flex space-x-7">
        <div>
          <!-- Website Logo -->
          <a href="#" class="flex items-center py-4 px-2">
            <img id="drag1" src="<%= asset_path('icon.png') %>"  width="40" height="0" class="mt-3 mr-4 transform duration-200 hover:scale-110 cursor-pointer">
            <span class="font-semibold text-2xl ">Journal App</span>
          </a>
        </div>
      </div>
      <!-- Secondary Navbar items -->
      <% if session[:user_id] %>
        <div class="hidden md:flex items-center space-x-1 text-md ">
          <%= link_to dashboard_path do %><i class="fas fa-columns text-yellow-500 border-b-4 border-yellow-500 font-semibold hover:text-yellow-400"><button class="py-4 px-2 " > Dashboard</button><% end %></i>
          <%= link_to journals_new_path do %><i class="fas fa-plus-circle text-yellow-500 border-b-4 border-yellow-500 font-semibold hover:text-yellow-400" style="margin-left:30px; "><button class="py-4 px-2 "> Journal</button></i><% end %>
          <%= link_to tasks_new_path do %><i class="fas fa-plus-circle text-yellow-500 border-b-4 border-yellow-500 font-semibold hover:text-yellow-400" style="margin-left:30px; "><button class="py-4 px-2"> Task</button></i><% end %>
          <%= link_to profile_edit_path do %><i class="fas fa-user text-yellow-500 border-b-4 border-yellow-500 font-semibold hover:text-yellow-400" style="margin-left:30px; "><button class="py-4 px-2"> <%= Current.user.firstname.capitalize %></button></i><% end %>
          </div>
        <div class="hidden md:flex items-center space-x-3 ">
          <i class="far fa-calendar-alt font-extrabold text-yellow-400"><strong style="margin-left:5px; "> <%= @current_datetime.strftime("%A %b %e, %Y ") %></strong></i>
          <%= link_to root_path do %><i class="fas fa-home text-yellow-400 font-semibold hover:text-yellow-400"><button style="margin-left:5px; "> Home</button></i><% end %>
          <%= link_to root_path, method: :delete do %><i class="fas fa-power-off py-2 px-2 font-serif text-yellow-400 transition duration-300 hover:text-yellow-400"><button style="margin-left:5px; "> Logout</button></i><% end %>
        </div>
      <% else %>
        <div class="hidden md:flex items-center space-x-3 text-xl text-yellow-400 ">
          <i class="far fa-calendar-alt mr-10"><strong class="font-extrabold ml-2"> <%= @current_datetime.strftime("%A %b %e, %Y ") %></strong></i>
          <%= link_to root_path do %><i class="fas fa-home text-yellow-400 transition duration-300 hover:text-yellow-500"><button class=" py-2 px-2 font-serif  "> Home</button><% end %></i>
          <%= link_to signin_path do %><i class="fas fa-sign-out-alt text-yellow-400 transition duration-300 hover:text-yellow-500"><button class=" py-2 px-2 font-serif"> Login</button><% end %></i>
          <%= link_to signup_path do %><i class="fas fa-user-plus text-yellow-400 transition duration-300 hover:text-yellow-500"><button class=" py-2 px-2 font-serif"> Signup</button><% end %></i>
        </div>
      <% end %>
      <!-- Mobile menu button -->
      <div class="md:hidden flex items-center">
        <button class="outline-none mobile-menu-button">
        <svg class=" w-6 h-6 text-gray-500 hover:text-blue-500 "
          x-show="!showMenu"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
      </div>
    </div>
  </div>
  <!-- mobile menu -->
  <div class="hidden mobile-menu">
    <ul class="">
    <% if session[:user_id] %>
      <%#= link_to dashboard_path do %><li class="block text-sm px-2 py-4 text-yellow-700 bg-yellow-400 font-semibold "> Dashboard</li><%# end %>
      <%#= link_to journal_new_path do %><li class="block text-sm px-2 py-4 hover:bg-blue-500 transition duration-300 "> Journal</li><%# end %>
      <li class="block text-sm px-2 py-4 hover:bg-blue-500 transition duration-300">Profile</li>
      <li class="block text-sm px-2 py-4 hover:bg-blue-500 transition duration-300">User</li>
      <%#= link_to root_path do %><div class="block text-sm px-2 py-4 hover:bg-blue-500 transition duration-300 "> Home</div><%# end %>
      <%#= link_to '/', method: :delete do %><div class="block text-sm px-2 py-4 hover:bg-blue-500 transition duration-300 "> Logout</div><%# end %>
    <% else %>
      <%#= link_to root_path do %><div class="block text-sm px-2 py-4 hover:bg-blue-500 transition duration-300"> Home</div><%# end %>
      <%#= link_to signin_path do %><div class="block text-sm px-2 py-4 hover:bg-blue-500 transition duration-300"> Login</div><%# end %>
      <%#= link_to signup_path do %><div class="block text-sm px-2 py-4 hover:bg-blue-500 transition duration-300"> Signup</div><%# end %>
    <% end %>
    </ul>
  </div>
</nav>

<script>
  var btn = document.querySelector("button.mobile-menu-button");
  var menu = document.querySelector(".mobile-menu");

  btn.addEventListener("click", () => {
    menu.classList.toggle("hidden");
  });
</script>